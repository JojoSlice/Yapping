@page
@model miniReddit.Pages.AdminModel
@{
}
<body>

    <div class="row">
        @foreach(var report in Model.ReportModels)
        {
            if(report.Post != null)
            {
                <div class="row">
                    <div class="col-2 m-1 card">
                        <img class="img-thumbnail m-1" src="@report.UserInfo.ProfileImg" />
                        <h6 class="card-title m-1">@report.UserInfo.Username</h6>
                    </div>

                    <div class="col-9 m-1 card">
                        <div class="card-header m-1">
                            <label class="card-title">@report.Post.Title . Date: @report.Post.CreatedAt</label>
                        </div>
                        <div class="card-body">
                            <p class="card-text">@report.Post.Text</p>
                        </div>
                    </div>
                </div>
            }
            else if(report.Comment != null)
            {
                <div class="row">
                    <div class="col-1 m-1 card">
                        <img class="img-thumbnail m-1" src="@report.UserInfo.ProfileImg" />
                        <h6 class="card-title m-1">@report.UserInfo.Username</h6>
                    </div>

                    <div class="col-9 m-1 card">
                        <div class="card-body">
                            <p class="card-text">@report.Comment.Text</p>
                        </div>
                    </div>
                </div>

            }
            <div class="row border-1">
                <div class="col-6">
                    <label>@report.Report.Id</label>
                </div>            
                <div class="col-3">
                    <button onclick="deleteReport('@report.Report.Id', this)" class="btn btn-danger m-1">Delete</button>
                </div>
                @if(!report.Report.IsRead)
                {
                    <div class="col-3">
                        <button onclick="markReport('@report.Report.Id', this)" class="btn btn-primary m-1">Mark as handled</button>
                    </div>
                }
            </div>
        }
    </div>

    <script src="~/js/Admin.js"></script>
</body>

